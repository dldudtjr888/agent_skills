# 문서화 규칙

> 설정 파일 관리: `config-management.md`

## 3가지 핵심 원칙

1. **간단하고 명확하게** → 빠른 시작 우선, 상세 내용은 나중에
2. **문서당 하나의 목적** → 혼합 금지, 주제별 분리
3. **최신 상태 유지** → 코드 변경 시 관련 문서 즉시 업데이트

## 필수 메타데이터

모든 문서에 반드시 포함:
- **작성자/날짜**: `**Written**: 2025-01-11, @username`
- **상태**: `In Progress | Complete | On Hold | Deprecated`
- **목적**: 2-3문장 요약

## 문서 구조 템플릿

```markdown
# 문서 제목

**Written**: YYYY-MM-DD, Author
**Status**: [In Progress|Complete|On Hold|Deprecated]

**Update History**:
- YYYY-MM-DD: 초안 작성
- YYYY-MM-DD: 섹션 X 추가

## Purpose
{2-3문장 요약}

## Details
{내용 섹션}

## References
- [관련 문서](link)
```

## 파일 네이밍

**타임스탬프** (시간순서가 중요할 때):
- `{YYYYMMDD}_{task}.md` 또는 `{YYYYMMDD}_{HHMM}_{task}.md`

**고정 이름** (가이드, README):
- `architecture.md`, `README.md`, `config.yaml`

## 여러 파일로 구성된 작업 문서 → 폴더 사용

```
docs/tasks/{YYYYMMDD}_{HHMM}_{task_name}/
  README.md              # 개요 (필수)
  plan.md                # 계획
  implementation.md      # 구현 상세
  testing.md             # 테스트 계획/결과
```

단일 문서: `docs/tasks/20250121_simple_task.md`

## 문서 위치

| 유형 | 위치 | 예시 |
|------|------|------|
| 프로젝트 개요 | root | `README.md`, `AGENTS.md` |
| 계획 | `docs/plan/` | `planning_guide.md` |
| 상태/가이드 | `docs/status/` | `architecture.md` |
| 참조 | `docs/ref/` | SDK 참조 |
| 작업 | `docs/tasks/` | 타임스탬프 필수 |
| 개인 메모 | `docs/memo/` | AI 수정 금지 |
| 설정 문서 | `config/` | `README.md` |

## 작성 규칙

| 규칙 | 올바름 | 잘못됨 |
|------|--------|--------|
| 경로 참조 | `./config/README.md` (상대) | 절대 경로 |
| 링크 | `[상세](../architecture.md)` | 내용 복사 붙여넣기 |
| 환경변수 | `${DB_HOST}` 또는 `.env.example` | 하드코딩된 값 |
| 길이 | 300줄 이하, 넘으면 분할 | 500줄 이상 단일 문서 |
| 폐기 | 경고로 표시 | 오래된 정보 방치 |

## 동기화 요구사항

| 변경 유형 | 반드시 업데이트 |
|----------|----------------|
| 새 에이전트 | `AGENTS.md`, `architecture.md` |
| 설정 변경 | `config/README.md`, `.env.example` |
| 프롬프트 변경 | `prompts/README.md` |
| 의존성 | `pyproject.toml`, `README.md` |

---

## 계획 문서

### 작성 기준

| 구분 | 대상 |
|------|------|
| **반드시 작성** | 새 기능 (에이전트, MCP 서버), 아키텍처 변경, 리팩토링 (3개 이상 파일), 보안 업데이트, 프로덕션 배포 전 |
| **선택** | 버그 수정 (큰 영향 범위), 다중 문서 업데이트, 실험적 기능 |
| **불필요** | 단순 버그 수정 (1-2개 파일), 오타 수정, 로그 메시지 변경 |

### 계획 파일 네이밍

```
docs/plan/{YYYYMMDDHHMM}_{task-name}.md
```

예시: `202501290930_add_postgresql_mcp.md`

### 계획 템플릿

```markdown
# [작업 이름]

## 목표
간결한 목적 (1-2문장)

## 배경
- 왜 필요한가?
- 어떤 문제를 해결하는가?

## 범위
### 포함
- 구현할 기능
- 영향받는 컴포넌트

### 제외
- 이 작업에서 하지 않을 것

## 기술적 접근
### 아키텍처 변경
- 추가/수정/삭제할 컴포넌트
- 데이터 흐름 변경

### 핵심 결정
- 기술 스택 선택과 이유
- 아키텍처 패턴 선택과 이유

## 작업 단계

### 1단계: [이름]
- [ ] 작업 1
- [ ] 작업 2

**의존성**: 없음
**병렬화 가능**: 예/아니오

### 2단계: [이름]
- [ ] 작업 1

**의존성**: 1단계 완료
**병렬화 가능**: 예/아니오

## 위험 요소
- 잠재적 문제 + 완화 전략

## 테스트 계획
- 단위 / 통합 / 수동 테스트

## 문서 업데이트 체크리스트
- [ ] AGENTS.md
- [ ] architecture.md
- [ ] 관련 문서

## 롤백 계획
문제 발생 시 되돌리는 방법

## 성공 기준
- 완료 조건
- 검증 방법
```

### 작업 단계 가이드라인

- **병렬 작업**: `병렬화 가능: 예`로 명확히 표시하고 이유 설명
- **순차 작업**: 의존성을 명시적으로 표시
- **진행 추적**: 실행 중 체크박스 업데이트
- **이슈 로깅**: 문제 발생 시 타임스탬프와 함께 진행 노트 추가

## 절대 하지 말 것

- 폐기 안내 없이 오래된 문서 방치
- 문서 참조에 절대 경로 사용
- 500줄 이상의 단일 문서 작성
- `docs/memo/` 파일 수정 (사용자의 개인 노트)
