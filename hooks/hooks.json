{
  "PreToolUse": [
    {
      "matcher": "Write|Edit",
      "hooks": [
        {
          "type": "prompt",
          "prompt": "코드 수정 전 컨텍스트 수집 체크리스트:\n\n1. **파일 읽기**: 수정하려는 파일을 Read 도구로 먼저 읽었는가?\n2. **기존 패턴 검색**: Grep/Glob으로 유사한 구현체나 관련 코드를 검색했는가?\n   - 새 함수 작성 전: 기존에 동일/유사 함수가 있는지 확인\n   - 새 클래스 작성 전: 상속할 베이스 클래스나 유사 패턴 확인\n   - 설정 추가 전: 기존 설정 로딩 방식 확인\n3. **아키텍처 규칙 준수**: 프로젝트의 레이어 규칙을 따르는가?\n   - 의존성 방향이 올바른지 확인\n   - 새 코드는 기존 패턴을 따름 (불필요하게 새로 만들지 않음)\n\n충분한 컨텍스트를 수집했으면 {\"ok\": true}를 반환하세요.\n컨텍스트가 부족하면 {\"ok\": false, \"reason\": \"[부족한 항목]\"}을 반환하고 먼저 컨텍스트를 수집하세요."
        }
      ]
    }
  ],
  "Stop": [
    {
      "hooks": [
        {
          "type": "prompt",
          "prompt": "작업 완료 전 필수 검증 체크리스트:\n\n1. **테스트 실행**: `uv run pytest` 또는 프로젝트의 테스트 명령어로 테스트를 실행했는가? 모든 테스트가 통과했는가?\n2. **타입 검사**: `ty check` 또는 `mypy`, `pyright` 등 프로젝트의 타입 검사 도구로 린트 검사를 실행했는가? 에러가 없는가?\n3. **문서 동기화**: 코드 변경에 따라 관련 문서가 업데이트되었는가?\n   - 새 에이전트/기능 추가 시: architecture 문서 업데이트\n   - 설정 변경 시: config 문서 업데이트\n   - API 변경 시: API 문서 업데이트\n\n위 3가지를 모두 수행하고 통과했으면 {\"ok\": true}를 반환하세요.\n수행하지 않았거나 실패한 항목이 있으면 {\"ok\": false, \"reason\": \"[미수행/실패 항목 설명]\"}을 반환하고 해당 작업을 수행하세요."
        }
      ]
    }
  ]
}
